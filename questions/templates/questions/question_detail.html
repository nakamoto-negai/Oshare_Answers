{% extends "base.html" %}

{% block title %}ページタイトル{% endblock %}

{% block content %}
  <h3>{{ question.title }}</h3>
  <p>{{ question.body }}</p>

  <h4>回答一覧</h4>
  <ul>
    {% for answer in question.answers.all %}
      <li>
        {{ answer.body }}（{{ answer.user.username }}）
        {% if answer.item %}
          <br>おすすめ商品: {{ answer.item.name }}
          {% if answer.item.image %}
          <br><img src="{{ answer.item.image.url }}" alt="{{ answer.item.name }}" style="max-width:80px; max-height:80px;">
          {% endif %}
        {% endif %}
      </li>
    {% empty %}
      <li>まだ回答がありません。</li>
    {% endfor %}
  </ul>

  <h4>この質問に回答する</h4>
  <form method="post" action="{% url 'question_detail' question.id %}">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">回答を投稿</button>
  </form>
  <!-- ページ固有の内容 -->
{% endblock %}
<!-- 例: 質問一覧とその回答を表示 -->
